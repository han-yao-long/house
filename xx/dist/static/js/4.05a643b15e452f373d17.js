webpackJsonp([4],{"5yaq":function(t,i){},yKCN:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e("zeld"),n={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"ceshi"},on:{click:function(t){t.stopPropagation()}}},[e("span",{staticClass:"close",on:{click:t.closeAlsert}}),t._v(" "),e("div",{staticClass:"bodys"},[e("ul",[e("li",[e("span",[t._v("姓名：")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.msg.name,expression:"msg.name"}],attrs:{type:"text"},domProps:{value:t.msg.name},on:{input:function(i){i.target.composing||t.$set(t.msg,"name",i.target.value)}}})]),t._v(" "),e("li",[e("span",[t._v("手机号：")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.msg.phone,expression:"msg.phone"}],attrs:{type:"text"},domProps:{value:t.msg.phone},on:{input:function(i){i.target.composing||t.$set(t.msg,"phone",i.target.value)}}})]),t._v(" "),e("li",[e("span",[t._v("工号：")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.msg.job_number,expression:"msg.job_number"}],attrs:{type:"text"},domProps:{value:t.msg.job_number},on:{input:function(i){i.target.composing||t.$set(t.msg,"job_number",i.target.value)}}})]),t._v(" "),e("li",{on:{click:t.first}},[e("span",[t._v("大区：")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.bigcity,expression:"bigcity"}],attrs:{onfocus:"this.blur()",type:"text"},domProps:{value:t.bigcity},on:{input:function(i){i.target.composing||(t.bigcity=i.target.value)}}})]),t._v(" "),e("li",{on:{click:t.scend}},[e("span",[t._v("区域：")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.twocity,expression:"twocity"}],attrs:{onfocus:"this.blur()",type:"text"},domProps:{value:t.twocity},on:{input:function(i){i.target.composing||(t.twocity=i.target.value)}}})]),t._v(" "),e("li",{on:{click:t.three}},[e("span",[t._v("城市群：")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.smallcity,expression:"smallcity"}],attrs:{onfocus:"this.blur()",type:"text"},domProps:{value:t.smallcity},on:{input:function(i){i.target.composing||(t.smallcity=i.target.value)}}})])]),t._v(" "),e("mt-popup",{staticClass:"mint-popup",attrs:{position:"bottom"},model:{value:t.isPinker,callback:function(i){t.isPinker=i},expression:"isPinker"}},[e("mt-button",{staticClass:"sure",on:{click:t.handleConfirm}},[t._v("确认")]),t._v(" "),e("mt-picker",{ref:"pinkers",staticClass:"pinkers",attrs:{"value-key":"cName",slots:t.slots},on:{change:t.onValuesChange}})],1),t._v(" "),e("audio",{ref:"audios",attrs:{preload:"auto",id:"audioss",loop:"loop"}},[e("source",{attrs:{src:t.audioVoice,type:"audio/mpeg"}})]),t._v(" "),e("div",{staticClass:"btn",on:{click:t.signs}})],1)])},staticRenderFns:[]};var o=function(t){e("5yaq")},a=e("C7Lr")(s.a,n,!1,o,"data-v-b350ab86",null);i.default=a.exports},zeld:function(t,i,e){"use strict";(function(t){e("t5DY");var s=e("aozt"),n=e.n(s),o=e("wSez"),a=(e.n(o),e("TuU3"));i.a={props:{modal:{type:Boolean,default:!1}},components:{Indicator:o.Indicator,MessageBox:o.MessageBox,Picker:o.Picker,Button:o.Button},data:function(){return{msg:{phone:"",name:"",job_number:"",address_id:"1",open_id:""},isPinker:!1,wxobj:{},slots:[{values:[]}],bigcity:"",twocity:"",smallcity:"",province_id:"",city_id:"",town_id:"",level:-1,provinces:[],provinces1:[],provinces2:[],audioVoice:e("Ybrj"),canMusic:!1}},methods:{signs:function(){var t=this;this.province_id="",this.city_id="",this.town_id="",this.provinces.forEach(function(i){t.bigcity==i.name&&(t.province_id=i.id,i.city.forEach(function(i){t.twocity==i.name&&(t.city_id=i.id,i.town.forEach(function(i){t.smallcity==i.name&&(t.town_id=i.id)}))}))}),""!=this.msg.phone&&""!=this.msg.name&&""!=this.msg.job_number&&""!=this.msg.address_id&&""!=this.province_id&&""!=this.city_id&&""!=this.town_id?/^[1][0-9]{10}$/.test(this.phone)?this.$toast({message:"请输入正确的手机号"}):(console.log(this.msg.open_id),n.a.put("/api/api/users/"+this.msg.open_id,{name:this.msg.name,phone:this.msg.phone,job_number:this.msg.job_number,province_id:this.msg.province_id,city_id:this.city_id,town_id:this.town_id}).then(function(i){console.log(i),(i.status="200")?(t.$toast({message:"修改成功！"}),t.$emit("close")):t.msg={phone:"",name:"",job_number:""}})):this.$toast({message:"输入不能为空！"})},plays:function(){this.canMusic?(this.$refs.audios.pause(),this.canMusic=!1):(this.$refs.audios.play(),this.canMusic=!0),t(".music").toggleClass("rotate")},onValuesChange:function(t,i){1==this.level?this.bigcity=i:2==this.level?this.twocity=i:3==this.level?this.smallcity=i:this.bigcity=""},handleConfirm:function(){this.isPinker=!1},first:function(){this.level=1,this.isPinker=!0,this.twocity="",this.smallcity="",this.provinces;var t=this.provinces.map(function(t){return t.name});this.slots=[{flex:1,values:t,className:"slot1",textAlign:"center"}]},scend:function(){var t=this;this.level=2,this.isPinker=!0,this.smallcity="",this.provinces.forEach(function(i){if(i.name==t.bigcity){t.provinces1=i.city;var e=t.provinces1.map(function(t){return console.log(t),t.name});t.slots=[{flex:1,values:e,className:"slot1",textAlign:"center"}]}})},three:function(){var t=this;this.level=3,this.isPinker=!0,this.provinces1.forEach(function(i){if(i.name==t.twocity){t.provinces2=i.town;var e=t.provinces2.map(function(t){return console.log(t),t.name});t.slots=[{flex:1,values:e,className:"slot1",textAlign:"center"}]}})},closeAlsert:function(){console.log(13231),this.$emit("closeAlsert")},closepinker:function(){this.isPinker=!1},getuserInfo:function(){n.a.get("/api/api/users/show_info ",{params:{open_id:this.msg.open_id}}).then(function(t){var i=this;this.msg.name=t.data.name,this.msg.phone=t.data.phone,this.msg.job_number=t.data.job_number,this.msg.address_id=t.data.town_id;var e=t.data.province_id,s=t.data.city_id,n=t.data.town_id;this.provinces.forEach(function(t){t.id==e&&(i.bigcity=t.name,t.city.forEach(function(t){t.id==s&&(i.twocity=t.name,t.city.forEach(function(t){t.id==n&&(i.smallcity=t.name)}))}))})}).catch(function(t){console.log(t)})},getuserInfoById:function(){var t=this;n.a.get("/api/api/users/"+this.msg.open_id+"/show_info").then(function(i){console.log(i),t.msg.name=i.data.user.name,t.msg.phone=i.data.user.phone,t.msg.job_number=i.data.user.job_number,t.msg.address_id=i.data.user.town_id;var e=i.data.user.province_id,s=i.data.user.city_id,n=i.data.user.town_id;t.provinces.forEach(function(i){i.id==e&&(t.bigcity=i.name,i.city.forEach(function(i){i.id==s&&(t.twocity=i.name,i.town.forEach(function(i){i.id==n&&(t.smallcity=i.name)}))}))})}).catch(function(t){console.log(t)})},stopClick:function(){return!1}},mounted:function(){var i=this;this.msg.open_id=a.a.get("open_id"),n.a.get("/api/api/address",{params:{}}).then(function(t){i.provinces=t.data.provinces,console.log(i.provinces,"afa"),console.log(t,"res");var e=t.data.provinces.map(function(t){return t.name});i.slots=[{flex:1,values:e,className:"slot1",textAlign:"center"}],!0===i.modal&&i.getuserInfoById()}).catch(function(t){console.log(t)}),document.addEventListener("WeixinJSBridgeReady",function(){i.$refs.audios.play(),t(".music").toggleClass("rotate")},!1)}}}).call(i,e("L7Pj"))}});
//# sourceMappingURL=4.05a643b15e452f373d17.js.map