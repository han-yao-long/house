webpackJsonp([6],{b6jE:function(t,e){},bfKR:function(t,e,i){t.exports=i.p+"static/img/阅读参与@2x.c8efa55.png"},y2Qv:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("yyMF"),a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"join-container"},[s("headgoapp"),t._v(" "),s("div",{staticClass:"share-block"},[s("div",{staticClass:"share-content"},[s("div",{staticClass:"img-box"},[s("img",{attrs:{src:t.$store.getters.app.imgIp+t.groupDetail.goodsImgUrl}})]),t._v(" "),s("div",{staticClass:"right-content"},[s("div",{staticClass:"title"},[t._v(t._s(t.groupDetail.aheadName))]),t._v(" "),t._e(),t._v(" "),s("div",{staticClass:"receive"},[s("div",{staticClass:"receive-1"},[t._v("成团即领")]),t._v(" "),s("div",{staticClass:"receive-2"},[t._v("\n            已领\n            "),s("span",{staticClass:"red"},[t._v(t._s(t._f("volume")(t.groupDetail.groupAwardModel.receiveCount)))]),t._v("次\n          ")])])])]),t._v(" "),t.groupDetail.userNum-t.groupDetail.joinNum!="0"&&"3"!=t.groupDetail.groupOrderStatus?s("div",{staticClass:"group-list"},[s("div",{staticClass:"group-box"},t._l(t.groupDetail.members,function(e){return s("div",{staticClass:"group-item",style:{width:100/t.groupDetail.members.length+"%",maxWidth:"50%",minWidth:"20%"}},["0"==e.joinType?s("div",{staticClass:"group",style:{background:"url("+t.$store.getters.app.imgIp+e.headPortrait+") no-repeat",backgroundSize:"cover"}},[s("img",{staticClass:"tzImg",attrs:{src:i("F9Ha")}})]):t._e(),t._v(" "),"1"==e.joinType?s("img",{attrs:{src:t.$store.getters.app.imgIp+e.headPortrait}}):t._e(),t._v(" "),e.id?t._e():s("img",{attrs:{src:e.headPortrait}})])}),0)]):t._e(),t._v(" "),t.groupDetail.userNum-t.groupDetail.joinNum!="0"&&"3"!=t.groupDetail.groupOrderStatus?s("div",{staticClass:"residue-time"},[t._v("\n      还剩\n      "),s("span",{staticClass:"span-center"},[t._v(t._s(t.groupDetail.userNum-t.groupDetail.joinNum))]),t._v(" 个名额，\n      "),s("span",{staticClass:"span-right"},[t._v(t._s(t.groupDetail.failTimeNum))]),t._v(" 后结束\n    ")]):s("div",{staticClass:"fail-team"},[t.groupDetail.userNum-t.groupDetail.joinNum=="0"?s("div",{staticClass:"fail-title"},[s("img",{attrs:{src:i("vdCl")}}),s("div",[t._v("团队已满员")])]):s("div",{staticClass:"fail-title"},[s("img",{attrs:{src:i("vdCl")}}),s("div",[t._v("团队已失效")])]),t._v(" "),t._m(0)])]),t._v(" "),s("div",{staticClass:"share-rule"},[t._m(1),t._v(" "),t._m(2),t._v(" "),s("div",{staticClass:"rule-list"},[s("div",{staticClass:"rule-img",domProps:{innerHTML:t._s(t.groupDetail.groupExplain)}})])]),t._v(" "),s("div",{staticClass:"btn-box"},[s("div",{staticClass:"submit",on:{click:t.shouModal}},[t._v("参团")])]),t._v(" "),t.modal?s("div",{staticClass:"modal",on:{click:function(e){t.modal=!t.modal}}}):t._e(),t._v(" "),t.modal?s("div",{staticClass:"form-box"},[s("div",{staticClass:"form-title"},[t._v("确认领取奖励")]),t._v(" "),s("div",{staticClass:"form-item item-top"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"phone",attrs:{maxlength:"11",placeholder:"请输入11位手机号码"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-item"},[s("div",{staticClass:"code-left"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.verifyCode,expression:"verifyCode"}],staticClass:"code",attrs:{placeholder:"请输入验证码"},domProps:{value:t.verifyCode},on:{input:function(e){e.target.composing||(t.verifyCode=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"code-right"},[s("img",{staticClass:"code-img",attrs:{src:t.codeImg},on:{click:t.getCodeImg}})])]),t._v(" "),s("div",{staticClass:"form-item"},[s("div",{staticClass:"code-left"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.msCode,expression:"msCode"}],attrs:{placeholder:"请输入短信验证码"},domProps:{value:t.msCode},on:{input:function(e){e.target.composing||(t.msCode=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"code-right"},[s("div",{staticClass:"getCode-text",on:{click:t.getCode}},[t._v(t._s(t.codeText))])])]),t._v(" "),s("div",{staticClass:"form-item"},[s("div",{staticClass:"submit",on:{click:t.submit}},[t._v("参团")])])]):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fail-yz"},[e("div",[this._v("一键参团，会为您匹配更多")]),this._v(" "),e("div",[e("img",{attrs:{src:i("iRoP")}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("div",{staticClass:"line"}),this._v(" "),e("div",{staticClass:"center"},[this._v("拼团规则")]),this._v(" "),e("div",{staticClass:"line"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"rule"},[s("div",{staticClass:"rule-item"},[s("img",{attrs:{src:i("bfKR")}}),t._v(" "),s("div",{staticClass:"rule-text"},[t._v("阅读参与")])]),t._v(" "),s("div",{staticClass:"rule-item"},[s("img",{attrs:{src:i("CvOb")}}),t._v(" "),s("div",{staticClass:"rule-text"},[t._v("人满成团")])]),t._v(" "),s("div",{staticClass:"rule-item"},[s("img",{attrs:{src:i("BstQ")}}),t._v(" "),s("div",{staticClass:"rule-text"},[t._v("领取奖励")])])])}]};var o=function(t){i("b6jE")},r=i("C7Lr")(s.a,a,!1,o,"data-v-46ec3ad8",null);e.default=r.exports},yyMF:function(t,e,i){"use strict";(function(t){var s=i("STpF"),a=i("ILyb"),o=i("t5DY"),r=i("X2Oc"),d=(i("TuU3"),i("wSez"));i.n(d);e.a={name:"index",components:{headgoapp:s.a},data:function(){return{modal:!1,codeText:"获取验证码",timer:null,codeImg:"",verifycodekey:"",phone:"",verifyCode:"",msCode:"",groupId:Object(r.f)().groupId,userId:Object(r.f)().userId,invitationCode:Object(r.f)().invitationCode,countTime:"",groupDetail:{goodsImgUrl:"",groupAwardModel:"",aheadName:"",goodsPrice:"",userNum:"",joinNum:"",finishCount:"",failAt:"",failTimeNum:"",groupExplain:"",members:[],groupOrderStatus:""},share:{url:window.location.href,imgUrl:"http://"+window.location.hostname+"/h5/haicao_wx/dist/static/hpLogo.jpg",title:"组队阅读，好玩又能赚",disc:"上海草，拼团看，玩的够爽有得赚！"}}},created:function(){t("title").html("阅读分享"),this.$store.getters.app.isIOS&&this.$toast({message:"IOS系统尚未开放，敬请期待",duration:3e4})},mounted:function(){Object(r.i)(this.share.title,this.share.disc,this.share.url,this.share.imgUrl),this.getCodeImg(),this.get_group_manages(),this.$nextTick(function(){t(".rule-img").find("img").css({margin:"0 auto",width:"100%"})})},methods:{getCodeImg:function(){var t=this;this.verifyCode="",this.verifyCodeKey="",d.Indicator.open(),Object(o.b)().then(function(e){t.codeImg="data:image/png;base64,"+e.data,t.verifycodekey=e.verifyCodeKey,d.Indicator.close()})},getCode:function(){var t=this;if(!/^[1][0-9]{10}$/.test(this.phone))return this.$toast({message:"请输入正确的手机号"}),!1;if(!this.verifyCode)return this.$toast({message:"请输入图片验证码"}),!1;if(!this.timer){var e=59,i={phone:this.phone,templateNum:1,verifyCode:this.verifyCode,verifyCodeKey:this.verifycodekey};d.Indicator.open(),Object(o.a)(i).then(function(i){"200"==i.code?(t.$toast({message:"发送成功"}),t.timer=setInterval(function(){e>0?(e--,t.codeText=e+"重新获取"):(t.codeText="获取验证码",clearInterval(t.timer),t.timer=null,e=null,t.getCodeImg())},1e3)):t.getCodeImg(),d.Indicator.close()})}},get_group_manages:function(){var e=this,s={recordId:this.groupId};d.Indicator.open(),Object(a.a)(s).then(function(s){if(e.groupDetail.goodsImgUrl=s.data.goodsImgUrl,e.groupDetail.aheadName=s.data.aheadName,e.groupDetail.goodsPrice=s.data.goodsPrice,e.groupDetail.finishCount=s.data.finishCount,e.groupDetail.groupAwardModel=s.data.groupAwardModel,e.groupDetail.userNum=s.data.userNum,e.groupDetail.joinNum=s.data.joinNum,e.groupDetail.groupExplain=s.data.groupExplain,e.groupDetail.groupOrderStatus=s.data.groupOrderStatus,e.groupDetail.failAt=s.data.failAt.slice(0,10),e.groupDetail.members=s.data.members,e.groupDetail.userNum-e.groupDetail.joinNum>0)for(var a=0;a<e.groupDetail.userNum-e.groupDetail.joinNum;a++)e.groupDetail.members.push({headPortrait:i("yde1")});var o=Number(s.data.failTimeNum);setInterval(function(){o>0?(e.countTime=o,e.groupDetail.failTimeNum=Object(r.c)(o--)):e.groupDetail.failTimeNum=0},1e3),e.$nextTick(function(){t(".rule-img").find("img").css({margin:"0 auto",width:"100%"})}),d.Indicator.close()})},shouModal:function(){this.$store.getters.app.isIOS?this.$toast({message:"IOS系统尚未开放，敬请期待"}):this.modal=!0},submit:function(){var t=this;if(!/^[1][0-9]{10}$/.test(this.phone))return this.$toast({message:"请输入正确的手机号"}),!1;if(!this.verifyCode)return this.$toast({message:"请输入图片验证码"}),!1;if(!this.msCode)return this.$toast({message:"请输入短信验证码"}),!1;var e={phone:this.phone,smscode:this.msCode,groupId:this.groupId,invitationCode:this.invitationCode};d.Indicator.open(),this.modal=!1,Object(a.b)(e).then(function(e){if(d.Indicator.close(),"200"!=e.code&&"9017035"!=e.code&&"9017033"!=e.code)t.getCodeImg(),t.msCode="",t.codeText="获取验证码",clearInterval(t.timer),t.timer=null;else{var i="";i=t.groupDetail.userNum-t.groupDetail.joinNum!="0"&&"3"!=t.groupDetail.groupOrderStatus?"0":"1"==e.data.isNew?"1":"0";var s={groupId:t.groupId,path:"readShare",data:e.data,share:t.share,isNew:i,countTime:t.countTime};t.$router.push({path:"hp_anther_isScuess",query:s})}})}},beforeDestroy:function(){t("title").html("海草公社")}}}).call(e,i("L7Pj"))}});
//# sourceMappingURL=6.3831aa565b65b1f25f25.js.map